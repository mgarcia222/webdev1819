<!DOCTYPE html> 
<html> 
    <head>
        <title>Brick Breaker</title>
        <style>
            *{
             padding: 0px;   
             margin: 0px;
            }
            #myCanvas {
                background-color: #eee;
                display: block; 
                margin: 0 auto;
            }
        </style>
    </head>
    <body>
        <canvas id = "myCanvas" width = "480 px" height = "320 px">
            <script>
                var canvas = document. getElementById("myCanvas");
                var ctx = canvas.getContext("2d");
       
                var x = canvas.width/2;
                var y = canvas.height - 30;
                
                var dx = 2;
                var dy = -2;

                var ballRadius = 10;
                var paddleHeight = 10;
                var paddleWidth = 75;
                var paddleX = (canvas.width - paddleWidth)/2;
                var rightPressed = false;
                var leftPressed = false;
                var brickRowCount = 3;
                var brickColumnCount = 5;
                var brickWidth = 75;
                var brickHeight = 20;
                var brickPadding = 10;
                var brickOffsetTop = 30;
                var brickOffsetLeft = 30;

                function drawBall(){
	                ctx.beginPath();
	                ctx.arc(x, y, ballRadius, 0, Math.PI*2);
	                ctx.fillStyle = "red";
	                ctx.fill();
	                ctx.closePath();
                } 

                function drawPaddle(){
	                ctx.beginPath();
	                ctx.rect(paddleX, canvas.height - paddleHeight, paddleWidth, paddleHeight);
	                ctx.fillStyle = "green";
	                ctx.fill();
	                ctx.closePath();
	                
                }

                function draw(){
	                ctx.clearRect(0, 0, canvas.width, canvas.height);
	                drawBricks();
	                drawBall();
	                drawPaddle();
	                x += dx;
	                y += dy;    
	                
	                //out of bound -- left and right
                    if(x + dx > canvas.width - ballRadius || x + dx < ballRadius){
	                    dx = -dx;
                    }
                    
                    if (y + dy < ballRadius){
	                    dy = -dy;
                    } else if (y + dy > canvas.height-ballRadius){
                        if(x > paddleX && x < paddleX + paddleWidth){
                            dy = -dy;
                        } else {
                        ctx.clearRect(0, 0, canvas.width, canvas.height);
                          alert("GAME OVER");
                          draw();
                        }
                    }  
                
                    if(rightPressed && paddleX < canvas.width-paddleWidth){
	                    paddleX += 7;
                    } else if(leftPressed && paddleX > 0){
	                    paddleX -= 7;
                    }
                    

                }
                
                document.addEventListener("keydown", keyDownHandler, false);
                document.addEventListener("keyup", keyUpHandler, false);
                
                function keyDownHandler(e){
	                if(e.keyCode == 39){
		                rightPressed = true;
	            } else if(e.keyCode == 37){
	                    leftPressed = true;
	                    }
                }
                
                function keyUpHandler(e){
	                if(e.keyCode == 39){
		                rightPressed = false;
	                } else if(e.keyCode == 37){
		                leftPressed = false;
	                    }
                }

                setInterval(draw, 10);
                var bricks = [];
                for(var c = 0; c < brickColumnCount; c++){
	                bricks[c] = [];
	                for(var r = 0; r < brickRowCount; r++){
	                	bricks[c][r] = { x:0, y:0 };
	                }
                }
                function drawBricks() {
	                for(var c = 0; c < brickColumnCount; c++){
		                for(var r = 0; r < brickRowCount; r++){
			                bricks[c][r].x = 0;
			                bricks[c][r].y = 0;
			                ctx.beginPath();
			                ctx.rect(0, 0, brickWidth, brickHeight);
			                ctx.fillStyle = "blue";
			                ctx.fill();
			                ctx.closePath();
		                }
	                }
                }
                var brickX = (c*(brickWidth + brickPadding)) + brickOffsetLeft;
                var brickY = (r*(brickHeight + brickPadding)) + brickOffsetTop;




            </script>         

        </canvas>
        
    </body>
</html> 